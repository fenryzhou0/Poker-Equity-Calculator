import itertools

class Card:

    def __init__(self, value, suit):
        self.value = value
        self.suit = suit
        
    def printCard(self):
        print(self.value, self.suit)

    def getCardValue(self):
        cardOneValueMenu = "Enter the card's value:\r\n"
        cardValue = input(cardOneValueMenu)
        if cardValue == "Jack":
            cardValue = 11
        if cardValue == "Queen":
            cardValue = 12
        if cardValue == "King":
            cardValue = 13
        if cardValue == "Ace":
            cardValue = 14
        return cardValue

    def getCardSuit(self):
        cardOneSuitMenu = "Enter the card's suit: \r\n"
        cardSuit = input(cardOneSuitMenu)
        if cardSuit == "Spades":
            cardSuit = 1
        if cardSuit == "Clubs":
            cardSuit = 2
        if cardSuit == "Hearts":
            cardSuit = 3
        if cardSuit == "Diamonds":
            cardSuit = 4
        return cardSuit


class Deck:
    handOneWins = 0
    handTwoWins = 0
    splits = 0
    def __init__(self):
        self.cards = []
        self.createDeck()


    def createDeck(self):
        for s in range(1, 5):
            for v in range(2, 16):
                self.cards.append(Card(v, s))

    def printDeck(self):
        for c in self.cards:
            c.printCard()

    def removeDealtCard(self, card):
        for c in self.cards:
            if int(card.value) == int(c.value) and int(card.suit) == int(c.suit):
                self.cards.remove(c)

    def calculateOutcomes(self):
        outcomesList = list(itertools.combinations(self.cards, 5))
        return outcomesList
        #for c in list(outcomesList):
           # for i in list(c):
            #    i.printCard()
        #implement way to calculate winning hands based on each outcome

    def checkRoyalFlush(self, handOneCardOne, handOneCardTwo, handTwoCardOne, handTwoCardTwo, outcomesList):
        firstHandRoyals = 0
        secondHandRoyals = 0
        handOneRoyalFlush = False
        #creating list of suits for first hand
        for a in list(outcomesList):
            handOneSuits = []
            handOneViableCards = []
            handOneValues = []
            for i in list(a):
                handOneSuits.append(i.suit)
                handOneViableCards.append(i)
            handOneSuits.append(handOneCardOne.suit)
            handOneSuits.append(handOneCardTwo.suit)
            handOneViableCards.append(handOneCardOne)
            handOneViableCards.append(handOneCardTwo)

            #checking if first hand has at least 5 of same suit
            fiveSuited = False
            for b in range(1, 5):
                if handOneSuits.count(b) >= 5:
                    fiveSuited = True
                    royalFlushSuit = b

            #checking if first hand has royal flush
            if (fiveSuited == True):
                #Editing the seven cards in the hand to remove those that aren't suited
                for c in list(handOneViableCards):
                    if c.suit != royalFlushSuit:
                        handOneViableCards.remove(c)
                        #now handOneCards only has cards that are eligible for Royal Flush
                for d in list(handOneViableCards):
                    handOneValues.append(d.value)
                if (14 in handOneValues) and (13 in handOneValues) and (12 in handOneValues) and (11 in handOneValues) and (10 in handOneValues):
                    handOneRoyalFlush = True
                    firstHandRoyals += 1



        # checking second hand now:
        for a in list(outcomesList):
            handTwoSuits = []
            handTwoViableCards = []
            handTwoValues = []
            for i in list(a):
                handTwoSuits.append(i.suit)
                handTwoViableCards.append(i)
            handTwoSuits.append(handTwoCardOne.suit)
            handTwoSuits.append(handTwoCardTwo.suit)
            handTwoViableCards.append(handTwoCardOne)
            handTwoViableCards.append(handTwoCardTwo)

            # checking if first hand has at least 5 of same suit
            fiveSuitedSecond = False
            for b in range(1, 5):
                if handTwoSuits.count(b) >= 5:
                    fiveSuitedSecond = True
                    royalFlushSuitSecond = b

            # checking if first hand has royal flush
            if (fiveSuitedSecond == True):
                # Editing the seven cards in the hand to remove those that aren't suited
                for c in list(handTwoViableCards):
                    if c.suit != royalFlushSuitSecond:
                        handTwoViableCards.remove(c)
                        # now handOneCards only has cards that are eligible for Royal Flush
                for d in list(handTwoViableCards):
                    handTwoValues.append(d.value)
                if (14 in handTwoValues) and (13 in handTwoValues) and (12 in handTwoValues) and (
                        11 in handTwoValues) and (10 in handTwoValues):
                    handTwoRoyalFlush = True
                    secondHandRoyals += 1
        print (firstHandRoyals)
        print (secondHandRoyals)







#Creating First Hand
tempCard = Card("tempValue", "tempSuit")
print("First Hand:")
print("First Card Info:")
handOneCardOneValue = tempCard.getCardValue()
handOneCardOneSuit = tempCard.getCardSuit()
handOneCardOne = Card(handOneCardOneValue, handOneCardOneSuit)
print("Second Hand Info:")
handOneCardTwoValue = tempCard.getCardValue()
handOneCardTwoSuit = tempCard.getCardSuit()
handOneCardTwo = Card(handOneCardTwoValue, handOneCardTwoSuit)

#Creating Second Hand
print("Second Hand:")
print("First Card Info:")
handTwoCardOneValue = tempCard.getCardValue()
handTwoCardOneSuit = tempCard.getCardSuit()
handTwoCardOne = Card(handTwoCardOneValue, handTwoCardOneSuit)
print("Second Hand Info:")
handTwoCardTwoValue = tempCard.getCardValue()
handTwoCardTwoSuit = tempCard.getCardSuit()
handTwoCardTwo = Card(handTwoCardTwoValue, handTwoCardTwoSuit)

#Removing those cards from the deck
deck = Deck()
deck.removeDealtCard(handOneCardOne)
deck.removeDealtCard(handOneCardTwo)
deck.removeDealtCard(handTwoCardOne)
deck.removeDealtCard(handTwoCardTwo)

#running all possible outcomes
outcomes = deck.calculateOutcomes()

deck.checkRoyalFlush(handOneCardOne, handOneCardTwo, handTwoCardOne, handTwoCardTwo, outcomes)

